<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Visualizing Expression Data</title>

		<link rel="stylesheet" href="../../css/reveal.css">
		<link rel="stylesheet" href="../../css/theme/cytoscape-protocol-1.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../../lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../../css/print/pdf.css' : '../../css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
                
<!-- ========================================================== -->
<!-- THIS IS WHERE YOUR CONTENT BEGINS -->

<section>
<h1>Visualizing Expression Data</h1>
<p>Probably the most common use of expression data in Cytoscape is to set the visual attributes of the nodes in a network according to expression data. This creates a powerful visualization, portraying functional relation and experimental response at the same time. Here, we will walk through the steps for doing this.</p>
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
	<h1>Loading Network</h1>
			<ul>
				<li>Start Cytoscape and download the <a href="http://nrnb.org/data/galFilteredSimpleData.cys">demo session.</a></li>
				<li>Open the demo session using <highlight>File &rarr; Open...</highlight></li>
				<li>When the network first opens, the entire network is not visible because of the default zoom factor used. To see the whole network, we can use the <highlight>View &rarr; Fit Content</highlight> function.</li>
			</ul>
		<aside class="notes" data-markdown>
		Add speaker notes here...
		</aside>
</section>

<section>
	<h1>Label the Nodes</h1>
    <ul>
	<li>Open the <highlight>Style</highlight> interface by selecting its tab in the <highlight>Control Panel</highlight> (the leftmost panel). We are going to use the <b>COMMON</b> name attribute to give the nodes useful names:</li>
	<li>Zoom in on the network so that node labels are visible.</li>
	<li>Click the second column (<highlight>Map.</highlight>) of the <highlight>Node Label</highlight> row in the <highlight>Style</highlight> panel. This should produce a drop-down panel with <b>Column</b> and <b>Mapping Type</b>.</li>
	<li>Change the <highlight>Column</highlight> to <highlight>COMMON</highlight> by clicking on the field to the right of the <highlight>Column</highlight> label. This should bring up a list of columns. Select <highlight>COMMON</highlight>.</li>
	<li>Verify that the node labels on the network have changed to their common names.</li>
	<li>By default, the <b>Mapping Type</b> is <highlight>Passthrough Mapping</highlight>, which is what we want to use. Other options are <b>Discrete Mapping</b> and <b>Continuous Mapping</b>.</li>
        </ul>
        
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
	<h1>Color the Nodes</h1>
    <ul>
	<li>Click on the middle square (<highlight>Map.</highlight>) next to the <highlight>Fill Color</highlight> row in the <highlight>Style</highlight> panel.</li>
	<li>Click the <highlight>-- select value --</highlight> cell in the <highlight>Column</highlight> section.</li>
	<li>In the drop-down menu of available column names, select <highlight>gal80Rexp</highlight>.</li>
	<li>Click the <highlight>-- select value--</highlight> cell in the <highlight>Mapping Type</highlight> section.</li>
	<li>In the drop-down menu of available mapping types, select <highlight>Continuous Mapping</highlight>.</li>
	<li>This produces a default gradient ranging from blue to red for expression values. Notice that the nodes in the network change color. Double-click on the color gradient to change the colors.</li>
	<li>We are going to choose a different pre-formatted color scheme. In the <highlight>Continuous Mapping Editor</highlight>, click the button next to <highlight>Current Palette</highlight> in the upper left.</li>
    </ul>
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
    <h1>Color the Nodes</h1>
    <ul>
    <li>Select the first palette listed under the <highlight>ColorBrewer</highlight> tab and click <highlight>OK</highlight> to continue. You will see a warning that the color settings are about to change, click <highlight>Yes</highlight> to continue.</li>
    <li>The pre-defined palettes come from published recommendations for choosing colors in scientific and cartographic applications, for example <a href="http://colorbrewer2.org" target="_blank">BrewerColors</a>.</li>
    <li>The network should now look like this:<br /><br /></li>
    </ul>
    <img class="plain" src="NetworkBrewer.png" style="width:60%">
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
	<h1>Set the Default Node Color</h1>
	<p>Note that the default node color of pale blue is close to the color range in the selected palette. A useful trick is to choose a color outside this spectrum to distinguish nodes with no defined expression value and those with slight repression.</p>
    <ul>
	<li>Click the <highlight>Def.</highlight> (leftmost) square next to <highlight>Fill Color</highlight> and choose a light gray color.</li>
	<li>Zoom out on the network view to verify that a few nodes have been colored gray.</li>
    </ul>
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
	<h1>Set the Node Shape</h1>
	<p>We imported both expression measurement values and corresponding significance values. We can use the significance values to change the shape of the nodes so that measurements we have confidence in appear as squares while potentially bad measurements appear as circles.</p>
    <ul>
	<li>Click the <highlight>Map</highlight>. cell next to the <highlight>Shape</highlight> row in the <highlight>Style</highlight> panel.</li>
	<li>Click the <highlight>-- select value --</highlight> cell next to <highlight>Column</highlight>.</li>
	<li>In the drop-down menu of available column names, select <b>gal80Rsig</b>.</li>
	<li>Click the <highlight>-- select value --</highlight> cell next to <highlight>Mapping Type</highlight>.</li>
	<li>In the drop-down menu of available mapping types, select <highlight>Continuous Mapping</highlight>.</li>
	<li>This will create an empty icon in the <b>Current Mapping</b> row of the <b>Shape</b> section. Double-click on this icon.</li>
	<li>This action will pop-up a continuous shape selection dialog.</li>
    </ul>
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
    <h1>Set the Node Shape</h1>
    <ul>
	<li>Click the <highlight>Add</highlight> button. This splits the range of values with a slider down the middle with a node shape icon to either side.</li>
	<li>Double-click on either of the sides. This will pop-up a node shape selection dialog.</li>
	<li>In the node shape selection dialog, choose the <highlight>Rectangle</highlight> shape and click the <highlight>Apply</highlight> button.</li>
	<li>Click the black triangle and move the slider to the left, to slightly lower that <b>0.05</b>, our threshold for significance.</li>
	<li>Close the continuous shape selection dialog and verify that some nodes now have a square shape.</li>
        </ul><br /><br />
        <img class="plain" src="Node_shape_editor3.png" style="width:50%">
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
	<h1>Using Charts</h1>
	<p>In addition to coloring the nodes, Cytoscape also provides the ability to draw charts and graphs on each node. For example, suppose we wanted to display a bar chart showing all of the expression values on each of our nodes?</p>
    <ul>
	<li>To reset things a little, remove the mapping for <highlight>Fill Color</highlight> by right-clicking over the <highlight>Fill Color</highlight> row and selecting <highlight>Edit &rarr; Remove Mappings from Selected Visual Properties</highlight>.</li>
	<li>Now change the default value to a lighter shade of grey so we can see our chart.</li>
    <li>In the list of <b>Node Visual Properties</b>, locate the property called <b>Image/Chart 1</b>. <br />Note: If this property is not listed,
	select <highlight>Properties</highlight> drop-down at the top of the list and choose <highlight>Paint &rarr; Custom Paint 1 &rarr; Image/Chart 1</highlight>.</li>
        </ul>
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
    <h1>Using Charts</h1>
    <ul>
	<li>Select the <highlight>Def.</highlight> (leftmost) cell in the <highlight>Image/Chart 1</highlight> row to bring up the <highlight>Graphics</highlight> dialog.</li>
	<li>Select the <highlight>Charts</highlight> tab.</li>
	<li>Move the three columns containing the expression data (gal1RGexp, gal4RGexp, gal80Rexp) from <highlight>Available Columns:</highlight> to <highlight>Selected Columns:</highlight> by selecting the rows and clicking the right arrow. This indicates that we're going to use the data from these three columns to create our chart.</li>
	<li>Now select <highlight>Heat Strips</highlight> for the type of bar chart.</li>
    </ul>
    <br /><br />
    <img class="plain" src="600px-ChartDialog.png" style="width:60%">

<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
    <h1>Using Charts</h1>
    <ul>
	<li>Click on <highlight>Options</highlight> if you want to add labels to the graphs, change the default coloring, etc.</li>
	<li>Click <highlight>Apply</highlight> to see the resulting charts.</li>
    </ul>
    <br /><br />
    <img class="plain" src="1599px-GalWithCharts.png" style="width:60%">
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

                
<!-- THIS IS WHERE YOUR CONTENT ENDS -->
<!-- ========================================================== -->

			</div>
		</div>

		<script src="../../lib/js/head.min.js"></script>
		<script src="../../js/reveal.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-155159-15', 'auto');
  ga('send', 'pageview');

</script>
<script>
	Reveal.addEventListener( 'ready', function() {
	if(!window.navigator.userAgent.includes('CyBrowser')){
		var divs = document.getElementsByClassName("cybrowser")
		for (var i=0;i<divs.length;i++){
			divs[i].style.display = "none";
		}
	} else {
		var divs = document.getElementsByClassName("not-cybrowser")
		for (var i=0;i<divs.length;i++){
			divs[i].style.display = "none";
		}
	}
});
</script>
		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
                controls: true,
				progress: true,
				slideNumber: false,
				touch: true,
				fragments: true,
				help: true,
				showNotes: false,
				previewLinks: false,
				transition: 'slide', // none/fade/slide/convex/concave/zoom
				width: 1200,
				height: 860,
				autoSlide: 0,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
				{ src: '../../plugin/markdown/marked.js' },
				{ src: '../../plugin/markdown/markdown.js' },
                
                { src: '../../plugin/zoom-js/zoom.js', async: true, condition: function(){ return !!document.body.classList; } },
                { src: '../../plugin/notes/notes.js', async: true },
                { src: '../../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                { src: '../../plugin/external/external.js', condition: function() { return !!document.querySelector( '[data-external]' ); } }
				]
				});
			</script>
		</body>
	</html>
