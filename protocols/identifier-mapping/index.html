<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Identifier Mapping</title>

		<link rel="stylesheet" href="../../css/reveal.css">
		<link rel="stylesheet" href="../../css/theme/cytoscape-protocol-1.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../../lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../../css/print/pdf.css' : '../../css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

<!-- ========================================================== -->
<!-- THIS IS WHERE YOUR CONTENT BEGINS -->

<section>
	<h1>Identifier Mapping</h1>
	<p>This protocol will show you how to map or translate identifiers from one database (e.g., Ensembl) to another (e.g, Entrez Gene). This is a common requirement for data analysis. In the context of Cytoscape, for example, identifier mapping is needed when you want to import data to overlay on a network but the keys in the data don't match those in the network. This protocol includes two distinct examples highlighting different lessons that may apply to your use case; <highlight>species-specific mapping</highlight> and <highlight>protein to gene mapping</highlight>. </p>
    <p>Detailed information about the Cytoscape ID Mapper tool is available in <a href="https://f1000research.com/articles/7-725/v1" target="_blank">Identifier Mapping in Cytoscape: idmapper (F1000 Research)</a></p>
    <div class="footer" style="position: absolute; left: -3em; bottom: -4em; ">
<img class="plain" src="../../assets/images/Cytoscape.png" style="height:70px;opacity:0.5"> 
<version>3.8.0</version></div>
</section>
                
<section>
    <h1>Species-specific Mapping</h1>
    <h4>Background</h4>
    <p>When planning to import data, you need to consider the key columns you have in your <b>network data</b> and in your <b>table data</b>. It is recommended to always use proper identifiers as your keys (from public databases like Ensembl or Uniprot-TrEMBL). Relying on conventional symbols and names is not standard and error prone.</p>
    <p>For this example, we are going to use the <highlight>Yeast Perturbation</highlight> sample network provided with Cytoscape, which can be loaded from the <highlight>Starter Panel</highlight>. This network has identifiers of the form <b>YDL194W</b>, which are Ensembl-supported identifiers for Yeast. </p>       
</section>
                
<section>
    <h1>Species-specific Mapping</h1>
    <h4>Load Network</h4>
    <ul>
        <li>When you first launch Cytoscape, the <highlight>Starter Panel</highlight> is visible in the main <highlight>Network View Window</highlight>, with short cuts to sample files. Open the <highlight>Yeast Perturbation</highlight> sample file. The <highlight>Starter Panel</highlight> is also accessible from <highlight>View &rarr; Show Starter Panel</highlight>.</li>
        <li>If you look in the <highlight>Node Table</highlight>, you’ll see that there are proper identifiers in the name columns, like <b>YDL194W</b>.</li>
    </ul>           
</section>
                
<section>
    <h1>Species-specific Mapping</h1>
    <h4>Identifier Mapping</h4>
    <p>We are going to use the ID Mapper functionality in Cytoscape to map the <b>Yeast Ensembl IDs</b> in the <b>name</b> column to <b>Entrez Gene IDs</b>.</p>
    <ul>
        <div style="width:40%;float:right; margin-left: 10px"><img class="border" src="map-column.png"></div>
        <li>In the <highlight>Node Table</highlight>, right-click on the column header of the <highlight>name</highlight> column and click <highlight>Map column...</highlight>.</li>
        <li>In the <highlight>ID Mapping</highlight> interface, select <b>Yeast</b> as <highlight>Species</highlight>, <b>Ensembl</b> as <highlight>Map from</highlight> and <b>Entrez Gene</b> as <highlight>To</highlight>.</li>
    </ul>
</section>
                
<section>
    <h1>Species-specific Mapping</h1>
    <p>That's it! A new column (all the way to the right) will be added to the <highlight>Node Table</highlight>. You could now use this column to map data annotated with Entrez Gene IDs to the network.</p>
    
    <img class="border" src="galfiltered-mapped.png" style="width:35%">
              
</section>
                
<section>
    <h1>Protein to Gene Mapping</h1>
    <h4>Load Network</h4>
    <p>For this use case, you’ll need the STRING app to access the <a href="https://string-db.org/" target="_blank">STRING database</a>.</p>
    <ul>
        <li>Install the <a href="http://apps.cytoscape.org/apps/stringapp" target="_blank">stringApp</a> from the Cytoscape App Store, or install from Cytoscape via <highlight>Apps &rarr; App Manager ...</highlight>.</li>
        <li>In the <highlight>Network Search</highlight> bar at the top of the <highlight>Network Panel</highlight>, select <highlight>STRING disease query</highlight> from the drop-down, and type in <b>breast cancer</b>.</li>
        <li>Click the <highlight>options</highlight> icon <img class="plain" src="string-options.png" style="height:30px"> and set the <highlight>Confidence (score) cutoff</highlight> to <b>0.9</b> and the <highlight>Maximum number of proteins</highlight> to <b>150</b>. Click the <highlight>search</highlight> icon <img class="plain" src="SearchIcon.png" style="height:30px"> to search.</li>
    </ul>
    <div class="fragment">
        <img class="plain" src="string-breast.png" style="height:400px">   
        <div style="position:absolute;left:32em;bottom:2em;">
            <p><b><a href="https://cytoscape.github.io/cytoscape-tutorials/protocols/loading-networks/#/" target="_blank">Learn more about Loading Networks</a></b></p>
        </div>
    </div>
</section>
                
<section>
    <h1>Protein to Gene Mapping</h1>
    <h4>Identifier Mapping</h4>
    <ul>
        <li>In the <highlight>Node Table</highlight>, right-click on the column header of the <highlight>canonical name</highlight> column and click <highlight>Map column...</highlight>.</li>
        <li>In the <highlight>ID Mapping</highlight> interface, select <b>Human</b> as <highlight>Species</highlight>, <b>Uniprot</b> as <highlight>Map from</highlight> and <b>Ensembl</b> as <highlight>To</highlight>.</li>
    </ul>
<div class="fragment">
    <p>A new column (all the way to the right) will be added to the <highlight>Node Table</highlight>.</p>
        <img class="border" src="string-mapped.png" style="height:400px">    
    </div>
</section>
                
<section>
    <h1>Protein to Gene Mapping</h1>
    <h4>Importing Data</h4>
    <p>Now that we have mapped our network nodes to Ensembl IDs, we can import data that is annotated with Ensembl IDs.</p>
    <ul>
        <li>Load the <a href="https://cytoscape.github.io/cytoscape-tutorials/protocols/data/bcr-expr-ens.csv">expression data</a> file under <highlight>File</highlight> menu, select <highlight>Import &rarr; Table from File....</highlight>. Alternatively, drag and drop the data file directly onto the <highlight>Node Table</highlight>.</li>
        <li>Under <highlight>Key Column for Network</highlight>, select the new <highlight>Ensembl</highlight> column.</li>
        <li>Click <highlight>OK</highlight> to import.</li>
    </ul> 
    <p>We can now visualize the expression values on the network as node fill color. If we add a simple <highlight>Continuous Mapping</highlight> for node <highlight>Fill Color</highlight>, remove the STRING glass ball effect, add a darker node border, and apply a force-directed layout, the network will look like this:</p>
    
    <img class="plain" src="string-data.png" style="height:350px"> 
    <div style="position:absolute;left:32em;bottom:2em;">
        <p><b><a href="https://cytoscape.github.io/cytoscape-tutorials/protocols/importing-data-from-tables/#/" target="_blank">Learn more about Importing Data</a></b></p>
        <p><b><a href="https://cytoscape.github.io/cytoscape-tutorials/protocols/mapping-data/#/" target="_blank">Learn more about Styles</a></b></p> </div>
    
</section>
                
<section>
    <h1>BridgeDb App</h1>
    <p>The built-in identifier mapping function is intended to handle the majority of common ID mapping problems, but it has limitations. If you need an ID mapping solution for species or ID types not covered by this tool, or if you want to connect to alternative sources of mappings, check out the <a href="http://apps.cytoscape.org/apps/bridgedb" target="_blank">BridgeDb app</a>.</p>
    <p>BridgeDb supports ID mapping resources from delimited text, BridgeDb files, BrigeDb web service, and BioMart web service.</p>
               
</section>
            
<!-- THIS IS WHERE YOUR CONTENT ENDS -->
<!-- ========================================================== -->

			</div>
		</div>

		<script src="../../lib/js/head.min.js"></script>
		<script src="../../js/reveal.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-155159-15', 'auto');
  ga('send', 'pageview');

</script>
<script>
	Reveal.addEventListener( 'ready', function() {
	if(!window.navigator.userAgent.includes('CyBrowser')){
		var divs = document.getElementsByClassName("cybrowser")
		for (var i=0;i<divs.length;i++){
			divs[i].style.display = "none";
		}
	} else {
		var divs = document.getElementsByClassName("not-cybrowser")
		for (var i=0;i<divs.length;i++){
			divs[i].style.display = "none";
		}
	}
});
</script>  
		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				controls: true,
				progress: true,
				slideNumber: false,
				touch: true,
				fragments: true,
				help: true,
				showNotes: false,
				previewLinks: false,
				transition: 'slide', // none/fade/slide/convex/concave/zoom
				width: 1200,
				height: 860,
				autoSlide: 0,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
				{ src: '../../plugin/markdown/marked.js' },
				{ src: '../../plugin/markdown/markdown.js' },
				{ src: '../../plugin/zoom-js/zoom.js', async: true, condition: function(){ return !!document.body.classList; } },
				{ src: '../../plugin/notes/notes.js', async: true },
				{ src: '../../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: '../../plugin/external/external.js', condition: function() { return !!document.querySelector( '[data-external]' ); } }
				]
				});
			</script>
		</body>
	</html>
